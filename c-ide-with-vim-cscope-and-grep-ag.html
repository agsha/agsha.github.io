<!-- same as index.html, except that only one article is shown -->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="../../favicon.ico">

    <title>Sharath's core dump</title>


    <!-- Custom styles for this template -->
    <link href="theme/blog.css" rel="stylesheet">
    <link href="theme/hilite.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>

  <body>

    <div class="blog-masthead">
      <div class="container">
        <nav class="blog-nav">
          <a class="blog-nav-item" href="/">Latest articles</a>
          <a class="blog-nav-item" href="/archives.html">Archive</a>
          <a class="blog-nav-item" href="/pages/about.html">About</a>
        </nav>
      </div>
    </div>

    <div class="container">

      <div class="row">

        <div class="col-sm-12 blog-main">

          <div class="blog-post">
            <h2 class="blog-post-title"><a href="/c-ide-with-vim-cscope-and-grep-ag.html" rel="bookmark" title="Permalink to C IDE with vim, cscope and grep (ag)">C IDE with vim, cscope and grep (ag)</a></h2>
            <p class="blog-post-meta">Mon, 02 May 2016</p>
		    <h1>Setup Cscope</h1>
<ul>
<li>First, Install cscope. </li>
<li>
<p>Next, you need a <code>cscope.files</code> with all the files that need to be indexed. In the source folder, you can do that with  </p>
<div class="highlight"><pre><span></span><span class="n">find</span> <span class="ss">`pwd`</span> <span class="o">-</span><span class="n">name</span> <span class="s2">&quot;*.c&quot;</span> <span class="o">-</span><span class="n">o</span> <span class="o">-</span><span class="n">name</span> <span class="s2">&quot;*.cc&quot;</span> <span class="o">-</span><span class="n">o</span> <span class="o">-</span><span class="n">name</span> <span class="s2">&quot;*.h&quot;</span> <span class="o">&gt;</span> <span class="n">cscope</span><span class="p">.</span><span class="n">files</span>
</pre></div>


<p>the <code>pwd</code> is needed instead of <code>.</code> because you need <code>find</code> to print absolute pathnames.</p>
</li>
<li>
<p>Now, build the cscope database.</p>
<div class="highlight"><pre><span></span><span class="err">cscope -q -R -b -i cscope.files</span>
</pre></div>


<p>This command will build <code>cscope.out</code>. <code>-q</code> to build an efficient database, <code>-b</code> to build just the database. </p>
</li>
<li>
<p>Start up vim and issue the command</p>
<div class="highlight"><pre><span></span><span class="err">:cs add ~/code/ceph/cscope.out</span>
</pre></div>


<p>which will add the cscope database. Vim has built in support for cscope in the form of the <code>:cs</code> command. But it does <em>not</em> have useful keybindings setup. For that, you need <code>cscopes_map.vim</code> (which I've sourced in the <code>.vimrc</code>). You're all set now. Some basic comands:</p>
<ul>
<li><code>C-\ s</code> to find a symbol </li>
<li><code>C-\ c</code> to find all callers</li>
<li><code>C-\ f</code> to find global definitions</li>
<li><code>:help cscope</code> for more</li>
</ul>
</li>
</ul>
<h1>Setup ctags</h1>
<ul>
<li>Install ctags.</li>
<li>cd to the source folder and build the ctags index with <code>ctags -R .</code> (<code>-R</code> is for recursive).</li>
<li>In vim, you need to do <code>:set tags=/path/to/tags</code>. Unfortunately, you need to do this everytime you start vim. (how to avoid it?)</li>
<li>use <code>C-]</code> to show a list of tags under the cursor. <code>C-o</code> or <code>C-t</code> to go back.</li>
</ul>
<h1>Some Vim shortcuts I would like to remember:</h1>
<ul>
<li><code>[[</code> moves to the previous curly brace on column 0 (1?) </li>
<li><code>Ctrl-O</code> and <code>Ctrl-I</code> last location before jump</li>
<li><code>[{</code> jump to begining of current block! (Or you can search backward for <code>{</code>!</li>
</ul> 
          </div><!-- /.blog-post -->
		  <hr>
		  </hr>
        </div><!-- /.blog-main -->

      </div><!-- /.row -->

		  <div id="disqus_thread"></div>
		  <script>
			  /**
			  * RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
			  * LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
			  */
			  /*
			  var disqus_config = function () {
				  this.page.url = c-ide-with-vim-cscope-and-grep-ag.html; // Replace PAGE_URL with your page's canonical URL variable
				  this.page.identifier = c_ide; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
			  };
			  */
			  (function() { // DON'T EDIT BELOW THIS LINE
				  var d = document, s = d.createElement('script');

				  s.src = '//agsha.disqus.com/embed.js';

				  s.setAttribute('data-timestamp', +new Date());
				  (d.head || d.body).appendChild(s);
			  })();
		  </script>
		  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
    </div><!-- /.container -->

    <footer class="blog-footer">
      <p>Blog template built for <a href="http://getbootstrap.com">Bootstrap</a> by <a href="https://twitter.com/mdo">@mdo</a>.</p>
      <p>
        <a href="#">Back to top</a>
      </p>
    </footer>


   <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
  </body>
</html>
